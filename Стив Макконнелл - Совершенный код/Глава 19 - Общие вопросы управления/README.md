## Глава 19 - Общие вопросы управления
### Логические выражения
В логических выражениях следует использовать идентификаторы _true_ и _false_, а не значения 0 и 1. Если ваш язык не поддерживает их напрямую, создайте их с помощью макросов препроцессора или глобальных переменных. Применение констант _true_ и _false_ проясняет назначение кода. Вам не нужно помнить, что обозначают 1 и 0, и вы не сможете их случайно перепутать.

Используйте неявное сравнение логических величин с true или false:

```
// используйте
while ( not done ) ...
while ( a > b ) ...

// вместо:
while ( done = false ) ...
while ( (a > b) = true ) ...
```

Упрощение сложных выражений:
- разбивайте сложные проверка на части с помощью новых логических переменных;
- размещайте сложные выражения в логических функциях;
- используйте таблицы решений для замены сложных условий

Большинство людей имеют трудности с пониманием большого количества отрицаний.
- в операторах if заменяйте негативные выражений позитивными, меняя местами блоки if и else;
- применяйте теоремы Деморгана для упрощения логических проверок с отрицаниями

```
if ( !displayOK || !printerOK )

// заменяем на 

if ( !( displayOK && printerOK ) )
```

Используйте скобки, чтобы сделать ваши намерения понятными.

Организуйте числовые условия так, чтобы они соответствовали порядку точек на числовой прямой:

```
// переменная i между граничными значениями
MIN_ELEMENTS <= i and i <= MAX_ELEMENTS

// переменная i снаружи граничных значений
i < MIN_ELEMENTS or MAX_ELEMENTS < i
```

**Составной оператор (блок)** - набор операторов, который с точки зрения управления ходом программы рассматривается как один оператор. Для пояснения ваших намерений используйте блок независимо от того, сколько в нем строк кода - 1 или 20.

**Пустые выражения**. Привлекайте внимание к пустым выражениям. Можно использовать макрос препроцессора или встроенную функцию DoNothing(). В крайнем случае можно написать пустой метод, который будет говорить о ваших намерениях.

## Укрощение опасно глубокой вложенности
- упростите вложенные if с помощью повторной проверки части условия;
- упростите вложенные if с помощью блока с выходом;
- преобразуйте вложенные if в набор if-then-else;
- преобразуйте вложенные if в оператор case;
- факторизуйте глубоко вложенный код в отдельный метод;
- используйте более объектно-ориентированный подход;
- перепроектируйте глубоко вложенный код.
## Структурное программирование
Суть в идее: программа должно использовать управляющие конструкции с одним входом и одним выходом.
Три компонента структурного программирования:
- **Последовательность** - набор операторов, выполняющихся по порядку.
- **Выбор** - управляющая конструкция, заставляющая операторы выполняться избирательно. Наиболее частный пример - выражение __if-then-else__
- **Итерация** - управляющая структура, которая заставляет группу операторов выполняться несколько раз. Обычно называют "циклом".
## Управляющие структуры и сложность
Неправильное применение управляющих структу увеличивает сложность, правильное - уменьшает её.

Одной из единиц измерения "программной сложности" является число воображаемых объектов, которые вами приходится одновременно держать в уме, чтобы разобраться в программе. Это **умственное жонглирование** - один из самых сложных аспектов программирования и причина того, что программирование требует большей сосредоточенности, чем другие виды деятельности. По этой причине программисты не люят, когда их **"ненадолго прерывают"** - такие перерывы равносильные просьбе жонглеру продолжать подкидывать три мяча и подержать вашу сумку с продуктами.

Бороться со сложностями можно 2мя способами: улучшить свои способности к умственному жонглированию, но люди, похоже сталкиваются с трудностями при жонглировании большим количеством, чем от 5 до 9 воображаемых сущностей. Во-вторых, вы можете уменьшить сложность ваших программ и количество усилий, прилагаемых для их понимания.

Как измерить сложность? Том Маккейб предложил вести подсчет "точек принятия решения" в методе. Подсчитав количество точек, можно использовать это число для анализа сложности метода:
- 0-5 Этот метод, возможно, в порядке
- 6-10 Начинайте думать о способах упрощения метода
- 10+ Вынесите часть кода в отдельный метод и вызывайте его.
## Ключевые моменты
- упрощение и облегчение чтения логических выражений вносит существенный вклад в качество вашего кода;
- глубокая вложенность затрудняет понимание метода. К счастью, вы сравнительно легко можете её избежать;
- структурное программирование - это простая и всё еще злободневная идея: вы можете построить любую программу с помощью комбинации последовательностей, выборов и итераций;
- уменьшение сложности - ключ к написанию высококачественного кода.
