## Глава 25 - Стратегии оптимизации ПО
Оптимизация кода - лишь один из способов повышения производительности программы. Часто можно найти другие способы, обеспечивающие большее повышение производительности за меньшее время и с меньшим вредом для кода.

Стремление к повышению быстродействия может снизить общую производительность программы, а не повысить её.

Прежде чем тратить время на решение проблемы с производительностью, убедитесь, что она действительно требует решения.

Принцип Парето (правило 80/20) гласит, что 80% результата можно получить, приложив 20% усилий.

Доведите работу до конца и только потом совершенствуйтесь. Часть, которую нужно довести до совершенства, обычно невелика.

### Частые причины снижения эффективности
- операции ввода/вывода. Если объём используемой памяти не играет особой роли, работайте с данными в памяти, а не обращайтесь к диску, БД или сетевому ресурсу.
- замещение страниц. Операция, заставляющая ОС заменять страницы памяти, выполняется гораздо медленнее, чем операция, ограниченная одной страницей памяти.
- системные вызовы;
- интерпретируемые языки. При выполнении интерпретируемого кода каждая команда должна быть обработана и преобразована в машинный код, поэтому интерпретируемые языки обычно гораздо медленнее компилируемых;
- ошибки.

Оценка должна быть точной. Используйте инструменты профилирования или системный таймер и методы, регистрирующие истекшее время выполнения операций.

### Подход к оптимизации кода
- п.1 напишите хороший и понятный код, поддающийся легкому изменению;
- п.2 если производительность вас не устраивает:
	- сохраните работоспособную версию кода, чтобы позднее вы могли вернуться к "последнему нормальному состоянию";
	- оцените производительность системы с целью нахождения горячих точек;
	- узнайте, обсуловлено ли плохое быстродействие неадекватным проектом, неверными типами данных или неудачными алгоритмами и определите, уместна ли оптимизация кода; если оптимизация кода неуместна, вернитесь к п.1;
	- оптимизируйте узкое мето, определённое на предыдущем этапе;
	- оцените каждое улучшение по одному за раз;
	- если оптимизация не привела к улучшению кода, вернитесь к коду, сохранённому на первом этапе;
- п.3 повторите процесс, начиная с п.2