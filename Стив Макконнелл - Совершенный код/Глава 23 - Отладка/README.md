## Глава 23 - Отладка
Отладка - это процесс определения и устранения причин ошибок.

Лучший способ создания качественной программы заключается в тщательной выработке требований, грамотном проектировании и применении высококачественных методик кодирования. Отладка - средство для крайних случаев.

Ошибки предоставляют отличные возможности узнать много нового:
- изучить программу, над которой работаете;
- изучить собственные ошибки;
- изучить качество своего кода с точки зрения кого-то, кому придется читать его;
- изучить используемые способы решения проблем;
- изучить используемые способы исправления дефектов.

### Поиск дефекта
Отладка включает поиск дефект и его исправление. Поиск дефекто и его понимание обычно составляют 90% работы.
Эффективный метод поиска дефекта:
- стабилизация ошибки;
- определение источника ошибки;
- исправление дефекта;
- тестирование исправления;
- поиск похожих ошибок.

### Устранение дефекта
Устранение одних дефектов создает благоприятные условия для внесения других. Несколько советов, чтобы этого избежать:
- прежде чем браться за решение проблемы, поймите её;
- не ограничивайтесь пониманием проблемы - поймите программу;
- подтвердите диагноз проблемы;
- расслабьтесь. Решение проблемы второпях - один из самых неэффективных в плане времени подходов. Он подталкивает к необоснованным суждениям, неполной диагностике дефектов и внесению неполных исправлений. Отдыхайте, пока правильность решения не станет очевидной.
- сохраняйте первоначальный исходный код;
- устраняйте проблему, а не её симптомы;
- изменяйте код только при наличии веских оснований. Чем сильнее вы измените код, не понимая его, тем более сомнительной станет его корректность;
- вносите в код по одному изменению за раз;
- проверяйте исправления;
- добавляйте в набор тестов блочные тесты, приводящие к проявлению имеющихся дефектов;
- поищите похожие дефекты. Дефекты часто появляются группами и, обращая внимание на типы своих дефектов, вы сможете исправлять все дефекты конкретного типа.

### Психологические аспекты отладки
Читая код, стремитесь забыть о том, что он вам известен, и увидеть то, что написано на самом деле, а не то, что вы ожидаете увидеть. Используйте грамотные методики программирования, форматирование и комментирование кода, выбор правильных имен переменных итп, чтобы минимизировать психологический аспект

### Инструменты отладки
Одним из самых простых и эффективных инструментов отладки является сам компилятор.
- задайте в компиляторе максимально строгий уровень диагности и устраняйте все ошибки и предупреждения. Разработчики языка знают язык гораздо лучше вас. Если они о чем-то вас предупреждают, рассматривайте это как возможность узнать о языке что-то новое. Стремитесь понять подлинный смысл каждого предупреждения.
- рассматривайте предупреждения как ошибки;
- стандартизуйте параметры компиляции в масштабе всего проекта. Разработайте стандарт, требующий, чтобы все участники проекта компилировали код, используя одинаковые параметры. Иначе при интеграции кода, скомпилированного с использованием разных параметров, вы утонете в сообщениях об ошибках и сами узнаете что такое интеграционный кошмар.

Инструменты профилирования могут указать на некоторые неожиданные и скрытые дефекты.

Отладчики значительно облегчают разработку ПО. Отладчик не заменит грамотного рассуждения, но иногда никакие мысли не заменят хороший отладчик. Наиболее эффективная комбинация - ясный ум и хороший отладчик.